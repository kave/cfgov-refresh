{% import "primary-nav-items.html" as vars with context %}
<nav class="primary-nav sliding-nav_nav js-primary-nav has-transition">
    <ul class="primary-nav_top-level-list
               wrapper
               list__unstyled
               list__horizontal
               list-expanding">
        {%- for nav_title, sub_nav_title, sub_nav_media, sub_nav_items in vars.nav_items %}
            <li class="list_item list-expanding_list-item primary-nav_item js-nav-item"
                aria-expanded="false">
                {%- if sub_nav_items|length > 0 %}
                    {# TODO: Make this a <button>, it is not a real link. #}
                    <a class="list_link list-expanding_trigger js-primary-nav_trigger ">
                        {{ nav_title }}
                    </a>
                    {% import 'macros/sub-nav.html' as subNav %}
                    {{ subNav.render(sub_nav_title, sub_nav_items, sub_nav_media) }}
                {%- else %}
                    <a class="list_link ">
                        {{ nav_title }}
                    </a>
                {%- endif %}
            </li>
        {%- endfor %}
    </ul><!-- END .primary-nav_top-level-list -->
</nav><!-- END .primary-nav -->
